source('~/Scrapen_scheduled_tasks/Test_dashboard/Test_app_EK/data/Scrapen_KIWA.R', echo=TRUE)
Sys.Date() -1
format(Sys.Date(), "%d-%m-%Y")-1
format(Sys.Date(), "%d-%m-%Y")-1
format(Sys.Date(), "%d-%m-%Y")
as.Date(format(Sys.Date(), "%d-%m-%Y"))-1
as.Date(format(Sys.Date(), "%d-%m-%Y"),origin = "1970-01-01")-1
dt <- as.Date(format(Sys.Date(), "%d-%m-%Y")
dt <- as.Date(format(Sys.Date(), "%d-%m-%Y"))
dt <- as.Date(format(Sys.Date(), "%d-%m-%Y"))
dt
dt <- as.Date(format(Sys.Date(), "%d-%m-%Y"),origin = "1970-01-01")
dt
format(Sys.Date(), "%d-%m-%Y")
dt <- format(Sys.Date(), "%d-%m-%Y") -1
dt <- format(Sys.Date(), "%d-%m-%Y")
dt <- format(Sys.Date(), "%d-%m-%Y")
dt
new.dt <- dt - as.difftime(2, unit="days")
dt <- format(Sys.Date(), "%d-%m-%Y") %>% as.Date()
dmy(dt) - 5
dt <- format(Sys.Date(), "%d-%m-%Y") %>% as.Date()
dmy(dt) - 5
dmy(dt) - days(5)
dt <- format(Sys.Date(), "%d/%m/%Y") %>% as.Date()
dmy(dt) - days(5)
dmy(Sys.Date()) - days(5)
now() %>% ymd() -5
library(lubridate)
now() %>% ymd() -5
now() %>% dmy() -5
now()
dt <- format(Sys.Date(), "%d/%m/%Y") %>% as.Date()
dt <- format(Sys.Date(), "%d/%m/%Y")
new.dt <- dt - as.difftime(2, unit="days")
dmy(Sys.Date()) - days(5)
dmy(dt) - days(5)
dmy(dt) - days(1)
now() %>% ymd_hm()
now() #%>% ymd_hm()
now() %>% ymd()
now() %>% ymd()
now()
Sys.Date()
Sys.Date() %>% ymd()
Sys.Date() %>% ymd() -5
Sys.Date() %>% ymd() -1
Sys.Date() %>% ymd() -1 %>% date()
Sys.Date() %>% ymd() -1
Sys.Date() %>% ymd() -1 %>% format("%d/%m/%Y")
date <- Sys.Date() %>% ymd() -1 %>%
format(date, "%d/%m/%Y")
huidig2 <- readRDS(paste0("data/KIWA_data_gescraped_", datum, ".rds", sep=""))
date <- Sys.Date() %>% ymd() -1 %>%
format(date, "%d/%m/%Y")
date <- Sys.Date() %>% ymd() -1
format(date, "%d/%m/%Y")
date <- Sys.Date() %>% ymd() -1
format(date, "%d-%m-%Y")
#Huidige dataset inladen, in de loop is ingebouwd dat hij stopt met rbinden als er dubbele records inzitten
datum_minus1<- Sys.Date() %>% ymd() -1
datum_minus3 <- Sys.Date() %>% ymd() -3
#Huidige dataset inladen, in de loop is ingebouwd dat hij stopt met rbinden als er dubbele records inzitten
datum_minus1 <- Sys.Date() %>% ymd() -1
datum_minus3 <- Sys.Date() %>% ymd() -3
format(datum_minus1, "%d-%m-%Y")
format(datum_minus3, "%d-%m-%Y")
#Huidige dataset inladen, in de loop is ingebouwd dat hij stopt met rbinden als er dubbele records inzitten
datum_minus1 <- Sys.Date() %>% ymd() -1
datum_minus1 <- format(datum_minus1, "%d-%m-%Y")
datum_minus3 <- Sys.Date() %>% ymd() -3
datum_minus3 <- format(datum_minus3, "%d-%m-%Y")
huidig2 <- readRDS("KIWA_data_gescraped_2020-11-09.rds")
huidig <- huidig2 %>% select(-Scrapedatum)
length(unique(huidig$`Certificaat nr`)) == nrow(huidig)
huidig <- huidig[11:4000,]
data_totaal <- huidig
datahead <- names(data_totaal)
huidig2 <- huidig2[11:4000,] %>% select(`Certificaat nr`, Scrapedatum)
# data_totaal <- data.frame(matrix(ncol=9, nrow=0)); colnames(data_totaal) <- datahead
pages <- c(1:10)
for (x in pages) {
#Naar de pagina gaan
remDr$navigate(paste0("https://dataportal.kiwa.info/project/index?page=", x))
print(remDr$getCurrentUrl())
##Tabel scrapen en toevoegen aan data_totaal
xmlcode <- htmlParse(remDr$getPageSource()[[1]])
datahead <- xmlToDataFrame(nodes=getNodeSet(xmlcode,"//thead/tr/th")) %>% mutate(colnames=ifelse(is.na(a), text, a)) %>% select(colnames) %>% .$colnames
databody_pagex <- xmlToDataFrame(nodes=getNodeSet(xmlcode,"//tbody/tr"))
colnames(databody_pagex) <- datahead
data_totaal <- rbind(data_totaal, databody_pagex)
print(nrow(unique((data_totaal))))
print(nrow((data_totaal)))
if(nrow(unique(data_totaal)) < nrow(data_totaal)) {
break
}
}
data_totaal <- data_totaal %>% unique() %>% left_join(huidig2, by = "Certificaat nr") %>%
mutate(Scrapedatum = ifelse(is.na(Scrapedatum), format(Sys.Date(), "%d-%m-%Y"), Scrapedatum))
write.csv(data_totaal, paste0("C:/Users/omwekr02/Documents/Scrapen_scheduled_tasks/Test_dashboard/Test_app_EK/data/KIWA_data_gescraped_", Sys.Date(), ".csv"), row.names=FALSE)
write_rds(data_totaal, paste0("C:/Users/omwekr02/Documents/Scrapen_scheduled_tasks/Test_dashboard/Test_app_EK/data/KIWA_data_gescraped_", Sys.Date(), ".rds"))
print(paste0(Sys.Date(), ": Dit script heeft gerund", sep=""))
write.xlsx(data_totaal, paste0("C:/Users/omwekr02/Documents/Scrapen_scheduled_tasks/Test_dashboard/Test_app_EK/data/KIWA_data_gescraped_", Sys.Date(), ".xlsx"), row.names=FALSE)
library(xlsx)
write.xlsx(data_totaal, paste0("C:/Users/omwekr02/Documents/Scrapen_scheduled_tasks/Test_dashboard/Test_app_EK/data/KIWA_data_gescraped_", Sys.Date(), ".xlsx"), row.names=FALSE)
write_rds(data_totaal, paste0("C:/Users/omwekr02/Documents/Scrapen_scheduled_tasks/Test_dashboard/Test_app_EK/data/KIWA_data_gescraped_", Sys.Date(), ".rds"))
write_xlsx(data_totaal, paste0("C:/Users/omwekr02/Documents/Scrapen_scheduled_tasks/Test_dashboard/Test_app_EK/data/KIWA_data_gescraped_", Sys.Date(), ".xlsx"), row.names=FALSE)
write.xlsx(data_totaal, paste0("C:/Users/omwekr02/Documents/Scrapen_scheduled_tasks/Test_dashboard/Test_app_EK/data/KIWA_data_gescraped_", Sys.Date(), ".xlsx"), row.names=FALSE)
## 2. Nagiveer naar de gewenste website -----------------------------------------------------------------------
remDr$navigate("https://dataportal.kiwa.info/site/login")
remDr$getTitle()
remDr$getStatus()
#Zoek naar de specifieke elementen waar je text wilt invoeren of een mouseclick op wilt uitvoeren
#Let op het verschil tussen find element en find elements!!
#Naar een bepaald element gaan door te zoeken op ID (kan ook op class of xpath)
emailbox <- remDr$findElement(using = 'id', value = "loginform-username")
emailbox$getElementAttribute("id")
emailbox$getElementAttribute("class")
emailbox$sendKeysToElement(list("jeroen.bax@odzob.nl"))
passwordbox <- remDr$findElement(using = 'id', value = "loginform-password")
passwordbox$getElementAttribute("id")
passwordbox$getElementAttribute("class")
passwordbox$sendKeysToElement(list("R000153330"))
inlogbutton <- remDr$findElement(using = 'name', value= "login-button")
inlogbutton$getElementAttribute("id")
inlogbutton$getElementAttribute("class")
inlogbutton$clickElement()
remDr$getCurrentUrl()
remDr$navigate("https://dataportal.kiwa.info/project")
remDr$getCurrentUrl()
#Huidige dataset inladen, in de loop is ingebouwd dat hij stopt met rbinden als er dubbele records inzitten
datum_minus1 <- Sys.Date() %>% ymd() -1
datum_minus1 <- format(datum_minus1, "%d-%m-%Y")
datum_minus3 <- Sys.Date() %>% ymd() -3
datum_minus3 <- format(datum_minus3, "%d-%m-%Y")
datum <- ifelse((wday(Sys.Date(), week_start = getOption("lubridate.week.start", 1)) == 1),
datum_minus3, datum_minus1) %>% as.Date(., origin = "1970-01-01")
#huidig2 <- readRDS("KIWA_data_gescraped_2020-11-09.rds")
huidig2 <- readRDS(paste0("data/KIWA_data_gescraped_", datum, ".rds", sep=""))
huidig <- huidig2 %>% select(-Scrapedatum)
length(unique(huidig$`Certificaat nr`)) == nrow(huidig)
huidig2 <- readRDS("KIWA_data_gescraped_2020-11-09.rds")
#huidig2 <- readRDS(paste0("data/KIWA_data_gescraped_", datum, ".rds", sep=""))
huidig <- huidig2 %>% select(-Scrapedatum)
length(unique(huidig$`Certificaat nr`)) == nrow(huidig)
huidig <- huidig[11:4000,]
data_totaal <- huidig
datahead <- names(data_totaal)
huidig2 <- huidig2[11:4000,] %>% select(`Certificaat nr`, Scrapedatum)
# data_totaal <- data.frame(matrix(ncol=9, nrow=0)); colnames(data_totaal) <- datahead
pages <- c(1:10)
for (x in pages) {
#Naar de pagina gaan
remDr$navigate(paste0("https://dataportal.kiwa.info/project/index?page=", x))
print(remDr$getCurrentUrl())
##Tabel scrapen en toevoegen aan data_totaal
xmlcode <- htmlParse(remDr$getPageSource()[[1]])
datahead <- xmlToDataFrame(nodes=getNodeSet(xmlcode,"//thead/tr/th")) %>% mutate(colnames=ifelse(is.na(a), text, a)) %>% select(colnames) %>% .$colnames
databody_pagex <- xmlToDataFrame(nodes=getNodeSet(xmlcode,"//tbody/tr"))
colnames(databody_pagex) <- datahead
data_totaal <- rbind(databody_pagex, data_totaal)
print(nrow(unique((data_totaal))))
print(nrow((data_totaal)))
if(nrow(unique(data_totaal)) < nrow(data_totaal)) {
break
}
}
datum <- ifelse((wday(Sys.Date(), week_start = getOption("lubridate.week.start", 1)) == 1),
datum_minus3, datum_minus1)
data_totaal <- data_totaal %>% unique() %>% left_join(huidig2, by = "Certificaat nr") %>%
mutate(Scrapedatum = ifelse(is.na(Scrapedatum), format(Sys.Date(), "%d-%m-%Y"), Scrapedatum))
View(data_totaal)
write_rds(data_totaal, paste0("C:/Users/omwekr02/Documents/Scrapen_scheduled_tasks/Test_dashboard/Test_app_EK/data/KIWA_data_gescraped_", format(Sys.Date(), "%d-%m-%Y"), ".rds"))
## 2. Nagiveer naar de gewenste website -----------------------------------------------------------------------
remDr$navigate("https://dataportal.kiwa.info/site/login")
remDr$getTitle()
remDr$getStatus()
#Zoek naar de specifieke elementen waar je text wilt invoeren of een mouseclick op wilt uitvoeren
#Let op het verschil tussen find element en find elements!!
#Naar een bepaald element gaan door te zoeken op ID (kan ook op class of xpath)
emailbox <- remDr$findElement(using = 'id', value = "loginform-username")
emailbox$getElementAttribute("id")
emailbox$getElementAttribute("class")
emailbox$sendKeysToElement(list("jeroen.bax@odzob.nl"))
passwordbox <- remDr$findElement(using = 'id', value = "loginform-password")
passwordbox$getElementAttribute("id")
passwordbox$getElementAttribute("class")
passwordbox$sendKeysToElement(list("R000153330"))
inlogbutton <- remDr$findElement(using = 'name', value= "login-button")
inlogbutton$getElementAttribute("id")
inlogbutton$getElementAttribute("class")
inlogbutton$clickElement()
remDr$getCurrentUrl()
remDr$navigate("https://dataportal.kiwa.info/project")
remDr$getCurrentUrl()
## 3. Data scraping -----------------------------------------------------------------------
#Leeg dataframe specificeren met de juiste kolomnamen
kolomnamen <- c("Certificaat nr", "Locatie", "Adres", "Plaats", "Beoordelingsrichtlijn",
"Certificaathouder", "Start gepland", "Eind gepland", "Afgerond")
data_totaal2 <- data.frame(matrix(ncol=9, nrow=0))
names(data_totaal2) <- kolomnamen
# data_totaal <- data.frame(matrix(ncol=9, nrow=0)); colnames(data_totaal) <- datahead
pages <- c(1:200)
for (x in pages) {
#Naar de pagina gaan
remDr$navigate(paste0("https://dataportal.kiwa.info/project/index?page=", x))
print(remDr$getCurrentUrl())
##Tabel scrapen en toevoegen aan data_totaal
xmlcode <- htmlParse(remDr$getPageSource()[[1]])
datahead <- xmlToDataFrame(nodes=getNodeSet(xmlcode,"//thead/tr/th")) %>% mutate(colnames=ifelse(is.na(a), text, a)) %>% select(colnames) %>% .$colnames
databody_pagex <- xmlToDataFrame(nodes=getNodeSet(xmlcode,"//tbody/tr"))
colnames(databody_pagex) <- datahead
data_totaal2 <- rbind(data_totaal2, databody_pagex)
print(nrow(unique((data_totaal2))))
}
data_totaal2 <- data_totaal2 %>% unique()
data_totaal2$Scrapedatum <-  format(Sys.Date(), "%d-%m-%Y")
## 4. Data wegschrijven -----------------------------------------------------------------------
write.xlsx(data_totaal2, paste0("C:/Users/omwekr02/Documents/Scrapen_scheduled_tasks/Test_dashboard/Test_app_EK/data/KIWA_data_gescraped_", format(Sys.Date(), "%d-%m-%Y"), ".xlsx"), row.names=FALSE)
write_rds(data_totaal2, paste0("C:/Users/omwekr02/Documents/Scrapen_scheduled_tasks/Test_dashboard/Test_app_EK/data/KIWA_data_gescraped_", format(Sys.Date(), "%d-%m-%Y"), ".rds"))
write_rds(data_totaal2, paste0("C:/Users/omwekr02/Documents/Scrapen_scheduled_tasks/Test_dashboard/Test_app_EK/data/KIWA_data_gescraped_", format(Sys.Date(), "%d-%m-%Y"), ".rds"))
datum <- ifelse((wday(Sys.Date(), week_start = getOption("lubridate.week.start", 1)) == 1),
datum_minus3, datum_minus1)
## 0. Libraries laden -----------------------------------------------------------------------
library(RSelenium)
library(XML)
library(tidyverse)
library(netstat)
library(lubridate)
library(xlsx)
#Je moet hiervoor al een webdriver voor chrome installeren/downloaden
## 1. Run the Selenium Server and connect to it -----------------------------------------------------------------------
rds  <- rsDriver(browser=c("chrome"), chromever = "85.0.4183.87", port = 14415L)
remDr <- rds$client
## 2. Nagiveer naar de gewenste website -----------------------------------------------------------------------
remDr$navigate("https://dataportal.kiwa.info/site/login")
remDr$getTitle()
remDr$getStatus()
#Zoek naar de specifieke elementen waar je text wilt invoeren of een mouseclick op wilt uitvoeren
#Let op het verschil tussen find element en find elements!!
#Naar een bepaald element gaan door te zoeken op ID (kan ook op class of xpath)
emailbox <- remDr$findElement(using = 'id', value = "loginform-username")
emailbox$getElementAttribute("id")
emailbox$getElementAttribute("class")
emailbox$sendKeysToElement(list("jeroen.bax@odzob.nl"))
passwordbox <- remDr$findElement(using = 'id', value = "loginform-password")
passwordbox$getElementAttribute("id")
passwordbox$getElementAttribute("class")
passwordbox$sendKeysToElement(list("R000153330"))
inlogbutton <- remDr$findElement(using = 'name', value= "login-button")
inlogbutton$getElementAttribute("id")
inlogbutton$getElementAttribute("class")
inlogbutton$clickElement()
remDr$getCurrentUrl()
remDr$navigate("https://dataportal.kiwa.info/project")
remDr$getCurrentUrl()
## 0. Libraries laden -----------------------------------------------------------------------
library(RSelenium)
library(XML)
library(tidyverse)
library(netstat)
library(lubridate)
library(xlsx)
#Je moet hiervoor al een webdriver voor chrome installeren/downloaden
## 1. Run the Selenium Server and connect to it -----------------------------------------------------------------------
rds  <- rsDriver(browser=c("chrome"), chromever = "85.0.4183.87", port = 14415L)
remDr <- rds$client
## 2. Nagiveer naar de gewenste website -----------------------------------------------------------------------
remDr$navigate("https://dataportal.kiwa.info/site/login")
remDr$getTitle()
remDr$getStatus()
#Zoek naar de specifieke elementen waar je text wilt invoeren of een mouseclick op wilt uitvoeren
#Let op het verschil tussen find element en find elements!!
#Naar een bepaald element gaan door te zoeken op ID (kan ook op class of xpath)
emailbox <- remDr$findElement(using = 'id', value = "loginform-username")
emailbox$getElementAttribute("id")
emailbox$getElementAttribute("class")
emailbox$sendKeysToElement(list("jeroen.bax@odzob.nl"))
passwordbox <- remDr$findElement(using = 'id', value = "loginform-password")
passwordbox$getElementAttribute("id")
passwordbox$getElementAttribute("class")
passwordbox$sendKeysToElement(list("R000153330"))
inlogbutton <- remDr$findElement(using = 'name', value= "login-button")
inlogbutton$getElementAttribute("id")
inlogbutton$getElementAttribute("class")
inlogbutton$clickElement()
remDr$getCurrentUrl()
remDr$navigate("https://dataportal.kiwa.info/project")
remDr$getCurrentUrl()
#Huidige dataset inladen, in de loop is ingebouwd dat hij stopt met rbinden als er dubbele records inzitten
datum_minus1 <- Sys.Date() %>% ymd() -1
datum_minus1 <- format(datum_minus1, "%d-%m-%Y")
datum_minus3 <- Sys.Date() %>% ymd() -3
datum_minus3 <- format(datum_minus3, "%d-%m-%Y")
datum <- ifelse((wday(Sys.Date(), week_start = getOption("lubridate.week.start", 1)) == 1),
datum_minus3, datum_minus1)
#huidig2 <- readRDS("KIWA_data_gescraped_2020-11-09.rds")
huidig2 <- readRDS(paste0("data/KIWA_data_gescraped_", datum, ".rds", sep=""))
#huidig2 <- readRDS("KIWA_data_gescraped_2020-11-09.rds")
huidig2 <- readRDS(paste0("KIWA_data_gescraped_", datum, ".rds", sep=""))
huidig <- huidig2 %>% select(-Scrapedatum)
length(unique(huidig$`Certificaat nr`)) == nrow(huidig)
huidig <- huidig[11:4000,]
data_totaal <- huidig
datahead <- names(data_totaal)
huidig2 <- huidig2[11:4000,] %>% select(`Certificaat nr`, Scrapedatum)
# data_totaal <- data.frame(matrix(ncol=9, nrow=0)); colnames(data_totaal) <- datahead
pages <- c(1:10)
for (x in pages) {
#Naar de pagina gaan
remDr$navigate(paste0("https://dataportal.kiwa.info/project/index?page=", x))
print(remDr$getCurrentUrl())
##Tabel scrapen en toevoegen aan data_totaal
xmlcode <- htmlParse(remDr$getPageSource()[[1]])
datahead <- xmlToDataFrame(nodes=getNodeSet(xmlcode,"//thead/tr/th")) %>% mutate(colnames=ifelse(is.na(a), text, a)) %>% select(colnames) %>% .$colnames
databody_pagex <- xmlToDataFrame(nodes=getNodeSet(xmlcode,"//tbody/tr"))
colnames(databody_pagex) <- datahead
data_totaal <- rbind(databody_pagex, data_totaal)
print(nrow(unique((data_totaal))))
print(nrow((data_totaal)))
if(nrow(unique(data_totaal)) < nrow(data_totaal)) {
break
}
}
data_totaal <- data_totaal %>% unique() %>% left_join(huidig2, by = "Certificaat nr") %>%
mutate(Scrapedatum = ifelse(is.na(Scrapedatum), format(Sys.Date(), "%d-%m-%Y"), Scrapedatum))
write.xlsx(data_totaal, paste0("C:/Users/omwekr02/Documents/Scrapen_scheduled_tasks/Test_dashboard/Test_app_EK/data/KIWA_data_gescraped_", format(Sys.Date(), "%d-%m-%Y"), ".xlsx"), row.names=FALSE)
# data_totaal <- data.frame(matrix(ncol=9, nrow=0)); colnames(data_totaal) <- datahead
pages <- c(1:10)
for (x in pages) {
#Naar de pagina gaan
remDr$navigate(paste0("https://dataportal.kiwa.info/project/index?page=", x))
print(remDr$getCurrentUrl())
##Tabel scrapen en toevoegen aan data_totaal
xmlcode <- htmlParse(remDr$getPageSource()[[1]])
datahead <- xmlToDataFrame(nodes=getNodeSet(xmlcode,"//thead/tr/th")) %>% mutate(colnames=ifelse(is.na(a), text, a)) %>% select(colnames) %>% .$colnames
databody_pagex <- xmlToDataFrame(nodes=getNodeSet(xmlcode,"//tbody/tr"))
colnames(databody_pagex) <- datahead
data_totaal <- rbind(databody_pagex, data_totaal)
print(nrow(unique((data_totaal))))
print(nrow((data_totaal)))
if(nrow(unique(data_totaal)) < nrow(data_totaal)) {
break
}
}
remDr <- rds$client
#Je moet hiervoor al een webdriver voor chrome installeren/downloaden
## 1. Run the Selenium Server and connect to it -----------------------------------------------------------------------
rds  <- rsDriver(browser=c("chrome"), chromever = "85.0.4183.87", port = 14415L)
rscript1a = "C:/Users/omwekr02/Documents/Scrapen_scheduled_tasks/Test_dashboard/Test_app_EK/data/Scrapen_KIWA2.R"
taskscheduler_create(taskname = "run_scrapen_KIWA", rscript = rscript1a,
schedule = "DAILY",
starttime = "09:05",
startdate = format(Sys.Date()+1, "%d/%m/%Y"))
## Libraries laden -----------------------------------------------------------------------
library(taskscheduleR)
taskscheduler_create(taskname = "run_scrapen_KIWA", rscript = rscript1a,
schedule = "DAILY",
starttime = "09:05",
startdate = format(Sys.Date()+1, "%d/%m/%Y"))
#Bekijken welke taken er nu allemaal in de scheduler staan
tasks <- taskscheduler_ls()
taskscheduler_delete("run_scrapen_KIWA")
rscript1a = "C:/Users/omwekr02/Documents/Scrapen_scheduled_tasks/Test_dashboard/Test_app_EK/data/Scrapen_KIWA2.R"
taskscheduler_create(taskname = "run_scrapen_KIWA", rscript = rscript1a,
schedule = "DAILY",
starttime = "09:05",
startdate = format(Sys.Date()+1, "%d/%m/%Y"))
source('~/Scrapen_scheduled_tasks/Test_dashboard/Test_app_EK/data/Scrapen_KIWA_initieel (13-11-2020).R', echo=TRUE)
library(xlsx)
## 4. Data wegschrijven -----------------------------------------------------------------------
write.xlsx(data_totaal2, paste0("C:/Users/omwekr02/Documents/Scrapen_scheduled_tasks/Test_dashboard/Test_app_EK/data/KIWA_data_gescraped_", format(Sys.Date(), "%d-%m-%Y"), ".xlsx"), row.names=FALSE)
write_rds(data_totaal2, paste0("C:/Users/omwekr02/Documents/Scrapen_scheduled_tasks/Test_dashboard/Test_app_EK/data/KIWA_data_gescraped_", format(Sys.Date(), "%d-%m-%Y"), ".rds"))
source('~/Scrapen_scheduled_tasks/Test_dashboard/Test_app_EK/data/Scrapen_KIWA2.R', echo=TRUE)
## 2. Nagiveer naar de gewenste website -----------------------------------------------------------------------
remDr$navigate("https://dataportal.kiwa.info/site/login")
remDr$getTitle()
remDr$getStatus()
remDr$open()
## 2. Nagiveer naar de gewenste website -----------------------------------------------------------------------
remDr$navigate("https://dataportal.kiwa.info/site/login")
source('~/Scrapen_scheduled_tasks/Test_dashboard/Test_app_EK/data/Scrapen_KIWA_dagelijks.R', echo=TRUE)
source('~/Scrapen_scheduled_tasks/Test_dashboard/Test_app_EK/data/Scrapen_KIWA.R', echo=TRUE)
source('~/Scrapen_scheduled_tasks/Test_dashboard/Test_app_EK/data/Scrapen_KIWA.R', echo=TRUE)
source('~/Scrapen_scheduled_tasks/Test_dashboard/Test_app_EK/data/Scrapen_KIWA.R', echo=TRUE)
View(databody_pagex)
View(data_totaal)
remDr$close()
remDr$close()
source('~/Scrapen_scheduled_tasks/Test_dashboard/Test_app_EK/data/Scrapen_KIWA_initieel (08-12-2020).R', echo=TRUE)
View(data_totaal2)
source('~/Scrapen_scheduled_tasks/Test_dashboard/Automatische_update_test_app.R', echo=TRUE)
